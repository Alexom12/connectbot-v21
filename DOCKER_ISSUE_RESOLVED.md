# –†–µ—à–µ–Ω–∏–µ Docker Redis –ü—Ä–æ–±–ª–µ–º—ã - ConnectBot v21

## üö® –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞! ‚úÖ

### –ò—Å—Ö–æ–¥–Ω–∞—è –æ—à–∏–±–∫–∞:
```
Error response from daemon: failed to resolve reference "docker.io/library/redis:7-alpine": 
net/http: TLS handshake timeout
```

### ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–°–æ–∑–¥–∞–Ω REDIS_TROUBLESHOOTING.md** —Å –ø–æ–ª–Ω—ã–º –≥–∞–π–¥–æ–º –ø–æ —Ä–µ—à–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º
2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω docker-compose.yml** - –∑–∞–º–µ–Ω–µ–Ω –æ–±—Ä–∞–∑ —Å `redis:7-alpine` –Ω–∞ `redis:alpine`
3. **–°–æ–∑–¥–∞–Ω docker-compose-alternatives.yml** —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ Redis
4. **–°–æ–∑–¥–∞–Ω simple_redis_install.ps1** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Redis
5. **–ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ fallback —Å–∏—Å—Ç–µ–º—ã** - ConnectBot —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≤–Ω–µ—à–Ω–µ–≥–æ Redis!

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```
üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Redis –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ConnectBot v21
==================================================
Redis —Å—Ç–∞—Ç—É—Å:           ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω
Django –∫–µ—à:             ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

–§—É–Ω–∫—Ü–∏–∏ RedisManager:
  –ö–µ—à —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤           ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
  –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
  –ö–µ—à –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤             ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
  –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤       ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
  –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π         ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
  –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π          ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
  –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞              ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
```

### üìã –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|---------|----------|
| **Django Backend** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | `python manage.py check` - OK |
| **Redis Cache** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –õ–æ–∫–∞–ª—å–Ω—ã–π –∏–ª–∏ fallback Django –∫–µ—à |
| **Python Bot** | ‚úÖ –ì–æ—Ç–æ–≤ | `python manage.py runbot` |
| **Redis Manager** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | `python manage.py redis_manager status` |
| **Java Service** | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç Java | JAVA_HOME –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω |
| **Docker Redis** | ‚ùå –°–µ—Ç–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞ | TLS timeout –∫ Docker Hub |

### üõ† –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è Docker –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ - –∏–∑–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞–∑:
```yaml
# –í docker-compose.yml —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
redis:
  image: redis:alpine  # –í–º–µ—Å—Ç–æ redis:7-alpine
```

#### 2. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –æ–±—Ä–∞–∑—ã Redis:
```yaml
# Bitnami (–Ω–∞–¥–µ–∂–Ω–µ–µ –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ç–µ–π)
image: bitnami/redis:latest

# KeyDB (Redis-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π)  
image: eqalpha/keydb:latest

# Redis Stack
image: redis/redis-stack-server:latest
```

#### 3. –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis:
```powershell
# –ß–µ—Ä–µ–∑ Chocolatey (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
choco install redis-64 -y

# –ß–µ—Ä–µ–∑ WSL
wsl sudo apt install redis-server -y
wsl sudo service redis-server start

# –ò–ª–∏ —Å–∫—Ä–∏–ø—Ç (–∫–æ–≥–¥–∞ –∏—Å–ø—Ä–∞–≤–∏–º –∫–æ–¥–∏—Ä–æ–≤–∫—É)
.\simple_redis_install.ps1
```

#### 4. –°–µ—Ç–µ–≤—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```powershell
# –ò–∑–º–µ–Ω–∏—Ç—å DNS –Ω–∞ Google DNS
netsh interface ip set dns "Wi-Fi" static 8.8.8.8

# –û—á–∏—Å—Ç–∏—Ç—å Docker –∫–µ—à
docker system prune -a

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop
```

### üéâ –ì–ª–∞–≤–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

**ConnectBot v21 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω!** 

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –±–µ–∑ –≤–Ω–µ—à–Ω–µ–≥–æ Redis –±–ª–∞–≥–æ–¥–∞—Ä—è:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É fallback –Ω–∞ Django locmem –∫–µ—à
- ‚úÖ Graceful degradation –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Redis  
- ‚úÖ Comprehensive error handling
- ‚úÖ –ü–æ–ª–Ω–æ–º—É –Ω–∞–±–æ—Ä—É —Ñ—É–Ω–∫—Ü–∏–π –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Docker

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–î–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ Docker:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–∫—Å–∏
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ registry
   - –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis –ª–æ–∫–∞–ª—å–Ω–æ

2. **–î–ª—è Java Matching Service:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Java 17+ –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å JAVA_HOME
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å: `cd connectbot-java-services/matching-service && ./mvnw spring-boot:run`

3. **–î–ª—è production:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Redis
   - –î–æ–±–∞–≤–∏—Ç—å SSL/TLS –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis Cluster –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

### üí° –í—ã–≤–æ–¥:

**–ü—Ä–æ–±–ª–µ–º–∞ —Å Docker Hub –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞!** ConnectBot v21 –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å —Å–æ –≤—Å–µ–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ Redis —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π fallback –º–µ—Ö–∞–Ω–∏–∑–º. üéä

---
**–î–∞—Ç–∞ —Ä–µ—à–µ–Ω–∏—è:** 9 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞, —Å–∏—Å—Ç–µ–º–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞