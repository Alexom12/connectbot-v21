# üß™ –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –≥–∏–±—Ä–∏–¥–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ConnectBot v21

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `test_microservice.py` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–∏–±—Ä–∏–¥–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å Java –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:

1. **üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Django –æ–∫—Ä—É–∂–µ–Ω–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
2. **üíì –ó–¥–æ—Ä–æ–≤—å–µ Redis** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Redis
3. **‚òï –ó–¥–æ—Ä–æ–≤—å–µ Java –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞** - –ø—Ä–æ–≤–µ—Ä–∫–∞ API endpoints
4. **ü§ù –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä —á–µ—Ä–µ–∑ Java** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
5. **üõ°Ô∏è Python fallback** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞
6. **üíæ Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
7. **üì° –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Redis

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –±–µ–∑ –ø–∞—Ä—ã
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫:
```bash
python test_microservice.py
```

### –° –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```powershell
.\venv\Scripts\Activate.ps1
python test_microservice.py
```

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:

| ID | –ò–º—è | –û—Ç–¥–µ–ª | –ò–Ω—Ç–µ—Ä–µ—Å—ã |
|---|---|---|---|
| 1 | –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ | IT | coffee, chess |
| 2 | –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤ | HR | coffee, lunch |
| 3 | –ê–Ω–Ω–∞ –°–∏–¥–æ—Ä–æ–≤–∞ | Design | coffee, photo |
| 4 | –ú–∏—Ö–∞–∏–ª –ö–æ–∑–ª–æ–≤ | Analytics | lunch, chess |
| 5 | –ï–ª–µ–Ω–∞ –ù–æ–≤–∏–∫–æ–≤–∞ | QA | coffee, games |
| 6 | –î–º–∏—Ç—Ä–∏–π –í–æ–ª–∫–æ–≤ | IT | lunch, walk |

## üé® –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä—ã —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:

```
üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ì–ò–ë–†–ò–î–ù–û–ô –ò–ù–¢–ï–ì–†–ê–¶–ò–ò CONNECTBOT V21 üß™
üìÖ –î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: 2025-10-09 21:22:10
üåê Java Service URL: http://localhost:8080

‚úÖ Redis –¥–æ—Å—Ç—É–ø–µ–Ω: healthy
‚úÖ Python fallback —É—Å–ø–µ—à–µ–Ω!
   –ü–∞—Ä —Å–æ–∑–¥–∞–Ω–æ: 3
   –ë–µ–∑ –ø–∞—Ä—ã: 0
   –ü–∞—Ä–∞ 1: –ï–ª–µ–Ω–∞ –ù–æ–≤–∏–∫–æ–≤–∞ ‚Üî –ê–Ω–Ω–∞ –°–∏–¥–æ—Ä–æ–≤–∞ (score: 83)

üìä –ò–¢–û–ì–û–í–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø
   –ü—Ä–æ–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤: 4/6
   –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞: 66.7%
```

### –°—Ç–∞—Ç—É—Å—ã —Ç–µ—Å—Ç–æ–≤:

- ‚úÖ **–ü—Ä–æ–π–¥–µ–Ω** - —Ç–µ—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- ‚ùå **–ü—Ä–æ–≤–∞–ª–µ–Ω** - —Ç–µ—Å—Ç –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π  
- ‚ö†Ô∏è **–° –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏** - –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

1. **Django Backend** - –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. **Java –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å** - –∞–ª–≥–æ—Ä–∏—Ç–º—ã matching (–ø–æ—Ä—Ç 8080)
3. **Redis** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–æ–±—ã—Ç–∏—è (–ø–æ—Ä—Ç 6379)
4. **Python Fallback** - —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Java

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã:

```mermaid
graph TD
    A[–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞] --> B[–ü—Ä–æ–≤–µ—Ä–∫–∞ Redis]
    B --> C[–ü—Ä–æ–≤–µ—Ä–∫–∞ Java —Å–µ—Ä–≤–∏—Å–∞]
    C --> D{Java –¥–æ—Å—Ç—É–ø–µ–Ω?}
    D -->|–î–∞| E[Java Matching]
    D -->|–ù–µ—Ç| F[Python Fallback]
    E --> G[–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis]
    F --> G
    G --> H[–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π]
    H --> I[–ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç]
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- Python 3.8+
- Django 4.2+
- Redis Server
- Java 17+ (–¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞)
- Maven 3.6+ (–¥–ª—è —Å–±–æ—Ä–∫–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞)

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python:

```bash
pip install requests django django-redis
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
DJANGO_SETTINGS_MODULE=config.settings
REDIS_URL=redis://localhost:6379/0
JAVA_SERVICE_URL=http://localhost:8080
```

## üêõ Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **ModuleNotFoundError: No module named 'requests'**
   ```bash
   pip install requests
   ```

2. **Redis connection failed**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ Redis: `redis-cli ping`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `config/settings.py`

3. **Java service unavailable**
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å: `mvn spring-boot:run`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 8080: `netstat -an | findstr 8080`

4. **Django setup failed**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DJANGO_SETTINGS_MODULE
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `python manage.py migrate`

## üìà –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –£—Ä–æ–≤–Ω–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏:

- **üöÄ –û—Ç–ª–∏—á–Ω–æ (80-100%)** - –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- **‚ö†Ô∏è –° –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏ (60-79%)** - Fallback —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞  
- **‚ùå –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (<60%)** - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º:

- **Java Health Failed** ‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç–µ Java –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å
- **Redis Health Failed** ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Redis —Å–µ—Ä–≤–µ—Ä
- **Python Fallback Works** ‚Üí –°–∏—Å—Ç–µ–º–∞ —É—Å—Ç–æ–π—á–∏–≤–∞ –∫ —Å–±–æ—è–º
- **Events Published** ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üîç –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤:

1. –ù–∞—Å–ª–µ–¥—É–π—Ç–µ –æ—Ç `MicroserviceIntegrationTester`
2. –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥—ã `test_*`
3. –û–±–Ω–æ–≤–∏—Ç–µ `test_results` —Å–ª–æ–≤–∞—Ä—å
4. –í—ã–∑–æ–≤–∏—Ç–µ –≤ `run_hybrid_integration_test`

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:

–ò–∑–º–µ–Ω–∏—Ç–µ –º–µ—Ç–æ–¥ `get_test_employees()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–°–∫—Ä–∏–ø—Ç –∏–∑–º–µ—Ä—è–µ—Ç:
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞
- –û–±—â–µ–µ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≥–∏–±—Ä–∏–¥–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ConnectBot v21, –≤–∫–ª—é—á–∞—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º Python fallback.

**–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- ‚úÖ Redis –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Python fallback: —Ä–∞–±–æ—Ç–∞–µ—Ç  
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–æ–±—ã—Ç–∏—è: —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚ö†Ô∏è Java –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å: —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ —Å —Ä–µ–∑–µ—Ä–≤–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º** üöÄ